<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>è¨˜äº‹ä½œæˆ | Jo's Blog</title>

<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/post_write.css">

<style>
/* ================== ì¹´ë“œ ë ˆì´ì•„ì›ƒ ================== */
.write-container {
    max-width: 720px;
    margin: 40px auto;
    padding: 0 20px;
}

.write-header {
    margin-bottom: 24px;
}

.write-title {
    font-size: 28px;
    font-weight: 800;
    margin-bottom: 6px;
}

.write-desc {
    font-size: 14px;
    color: #64748b;
}

/* ================== ì¹´ë“œ ================== */
.write-card {
    background: #ffffff;
    padding: 36px 40px;
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(15,23,42,0.08);
    display: flex;
    flex-direction: column;
    gap: 24px;
}

/* ================== ì…ë ¥í¼ ================== */
.write-input {
    width: 100%;
    padding: 12px 16px;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    font-size: 14px;
    color: #111827;
    font-family: 'Noto Sans JP', sans-serif;
}

.write-textarea {
    width: 100%;
    min-height: 180px;
    padding: 12px 16px;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    font-size: 14px;
    color: #111827;
    font-family: 'Noto Sans JP', sans-serif;
    resize: vertical;
}

/* ================== ì»¤ìŠ¤í…€ íŒŒì¼ ì—…ë¡œë“œ ================== */
.file-wrapper {
    display: flex;
    flex-direction: column;
    gap: 6px;
    font-family: 'Noto Sans JP', sans-serif;
}

.file-wrapper label {
    font-size: 13px;
    font-weight: 700;
    color: #334155;
    cursor: pointer;
}

#uploadFile {
    display: none; /* ê¸°ë³¸ ë²„íŠ¼ ìˆ¨ê¸°ê¸° */
}

.custom-file-btn {
    display: inline-block;
    padding: 8px 14px;
    border-radius: 12px;
    background-color: #e5e7eb;
    color: #111827;
    font-size: 13px;
    cursor: pointer;
    transition: background 0.2s ease;
    text-align: center;
    width: fit-content;
}

.custom-file-btn:hover {
    background-color: #d1d5db;
}

#fileName {
    font-size: 12px;
    color: #64748b;
    font-style: italic;
}

/* ================== ë²„íŠ¼ ================== */
.write-buttons {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 24px;
}

.write-btn {
    padding: 10px 24px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    border: none;
    transition: background 0.2s ease;
}

.write-btn.cancel {
    background: #e5e7eb;
    color: #111827;
}

.write-btn.cancel:hover {
    background: #d1d5db;
}

.write-btn.submit {
    background: #3b82f6;
    color: #ffffff;
}

.write-btn.submit:hover {
    background: #2563eb;
}
</style>
</head>

<body th:classappend="${session.darkMode} ? ' dark' : ''">

<div class="layout">

    <section class="write-container">

        <!-- ===== HEADER ===== -->
        <div class="write-header">
            <h1 class="write-title">âœï¸ è¨˜äº‹ä½œæˆ</h1>
            <p class="write-desc">é–‹ç™ºã®è¨˜éŒ²ã‚„è€ƒãˆã‚’æ•´ç†ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
        </div>

        <!-- ===== CARD ===== -->
        <div class="write-card">

            <form method="post" action="/post/write" enctype="multipart/form-data">

                <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
                <input type="text" name="title" class="write-input" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" required>

                <!-- å†…å®¹ -->
                <textarea name="content" class="write-textarea" placeholder="å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" required></textarea>

                <!-- ğŸ“ ì²¨ë¶€íŒŒì¼ (ì»¤ìŠ¤í…€ ë²„íŠ¼) -->
                <div class="file-wrapper">
                    <label class="custom-file-btn" for="uploadFile">ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</label>
                    <input type="file" name="uploadFile" id="uploadFile">
                    <div id="fileName">é¸æŠã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚ã‚Šã¾ã›ã‚“</div>
                </div>

                <!-- ë²„íŠ¼ -->
                <div class="write-buttons">
                    <a href="/archive" class="write-btn cancel">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</a>
                    <button type="submit" class="write-btn submit">ç™»éŒ²</button>
                </div>

            </form>

        </div>

    </section>

</div>

<!-- ğŸ TOAST -->
<div th:if="${toastMsg}" th:text="${toastMsg}" class="toast" th:classappend="${toastType} == 'success' ? ' success' : ' error'"></div>

<script>
const fileInput = document.getElementById('uploadFile');
const fileName = document.getElementById('fileName');

fileInput.addEventListener('change', () => {
    if (fileInput.files.length > 0) {
        fileName.textContent = 'é¸æŠã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«: ' + fileInput.files[0].name;
    } else {
        fileName.textContent = 'é¸æŠã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚ã‚Šã¾ã›ã‚“';
    }
});
</script>

</body>
</html>