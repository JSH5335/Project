<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>管理者ダッシュボード | 管理者</title>

    <!-- 공통 -->
    <link rel="stylesheet" href="/css/main.css">
    <!-- 관리자 공통 -->
    <link rel="stylesheet" href="/css/admin.css">
    <!-- 관리자 대시보드 전용 -->
    <link rel="stylesheet" href="/css/admin_dashboard.css">
</head>
<body th:classappend="${session.darkMode} ? ' dark' : ''">

<div class="layout">

    <!-- ===== 관리자 사이드바 (공통 fragment) ===== -->
    <div th:replace="admin/fragments/sidebar :: adminSidebar"></div>

    <!-- ===== 메인 ===== -->
    <section class="main">

        <!-- 헤더 -->
        <div class="header">
            <h1>管理者ダッシュボード</h1>
            <p class="sub-text">Jo's Developer Blog 運営状況</p>
        </div>

        <!-- ================= 카드 그리드 ================= -->
        <div class="dashboard-grid">

            <!-- 📝 게시글 -->
            <a href="/admin/posts" class="dashboard-card card-posts">
                <div class="card-accent"></div>
                <div class="dashboard-icon">📝</div>
                <div class="dashboard-title">投稿管理</div>

                <div class="dashboard-metric">
                    <span class="metric-value" th:text="${postCount}">0</span>
                    <span class="metric-label">総投稿数</span>
                </div>

                <div class="dashboard-sub"
                     th:if="${todayPostCount > 0}">
                    本日 +<span th:text="${todayPostCount}">0</span>
                </div>
            </a>

            <!-- 💬 댓글 -->
            <a href="/admin/comments" class="dashboard-card card-comments">
                <div class="card-accent"></div>
                <div class="dashboard-icon">💬</div>
                <div class="dashboard-title">コメント管理</div>

                <div class="dashboard-metric">
                    <span class="metric-value" th:text="${commentCount}">0</span>
                    <span class="metric-label">総コメント数</span>
                </div>

                <div class="dashboard-sub"
                     th:if="${todayCommentCount > 0}">
                    直近24時間 +<span th:text="${todayCommentCount}">0</span>
                </div>
            </a>

            <!-- 🚨 신고 댓글 관리 (🔴 빨간 상단 라인) -->
            <a href="/admin/reported-comments" class="dashboard-card card-reported">
                <div class="card-accent"></div>
                <div class="dashboard-icon">🚨</div>
                <div class="dashboard-title">通報コメント管理</div>

                <div class="dashboard-metric">
                    <span class="metric-value"
                          th:text="${reportedCommentCount}">0</span>
                    <span class="metric-label">通報件数</span>
                </div>

                <div class="dashboard-sub"
                     th:if="${reportedCommentCount > 0}">
                    対応が必要です
                </div>
            </a>

            <!-- 👥 회원 -->
            <a href="/admin/users" class="dashboard-card card-users">
                <div class="card-accent"></div>
                <div class="dashboard-icon">👥</div>
                <div class="dashboard-title">会員管理</div>

                <div class="dashboard-metric">
                    <span class="metric-value" th:text="${userCount}">0</span>
                    <span class="metric-label">会員数</span>
                </div>
            </a>

            <!-- 📣 공지 -->
            <a href="/admin/notice/list" class="dashboard-card card-notice">
                <div class="card-accent"></div>
                <div class="dashboard-icon">📣</div>
                <div class="dashboard-title">お知らせ管理</div>

                <div class="dashboard-metric">
                    <span class="metric-value"
                          th:text="${noticeStats.totalCount}">0</span>
                    <span class="metric-label">お知らせ数</span>
                </div>
            </a>

            <!-- 🧾 관리자 로그 -->
            <a href="/admin/logs" class="dashboard-card card-logs">
                <div class="card-accent"></div>
                <div class="dashboard-icon">📄</div>
                <div class="dashboard-title">管理者ログ</div>

                <div class="dashboard-desc">
                    管理者の操作履歴<br>
                    システムログ確認
                </div>
            </a>

        </div>

        <footer>
            管理者ページ · Jo's Developer Blog
        </footer>

    </section>

</div>

</body>
</html>